(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{1474:function(t,e,i){Promise.resolve().then(i.bind(i,436))},436:function(t,e,i){"use strict";i.d(e,{default:function(){return d}});var r=i(7437),n=i(6648),a=i(4599),s=i(8612),c=i(6329),o=i(7105),l=i(74);function d(t){let{product:e}=t,{addToCart:i}=(0,s.j)(),{toast:d}=(0,o.p)();return e?(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-10 py-8",children:[(0,r.jsx)(a.E.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{duration:.4},children:(0,r.jsx)("div",{className:"relative aspect-square w-full rounded-2xl overflow-hidden card",children:(0,r.jsx)(n.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover",placeholder:"blur",blurDataURL:"data:image/svg+xml;base64,".concat((0,l.s)((0,l.f)(1200,1200)))})})}),(0,r.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-slate-600 mt-3 max-w-prose",children:e.description}),(0,r.jsx)("p",{className:"text-2xl font-bold text-brand-700 mt-6",children:(0,c.x)(e.price)}),(0,r.jsx)("div",{className:"flex gap-3 mt-6",children:(0,r.jsx)("button",{className:"btn btn-primary",onClick:()=>{i(e),d({title:"Added to cart",description:e.title})},children:"Add to cart"})})]})]}):null}},7105:function(t,e,i){"use strict";i.d(e,{ToastProvider:function(){return o},p:function(){return l}});var r=i(7437),n=i(2265),a=i(5127),s=i(4599);let c=(0,n.createContext)(null);function o(t){let{children:e}=t,[i,o]=(0,n.useState)([]),l=(0,n.useMemo)(()=>({toast:t=>{let{title:e,description:i}=t,r=Math.random().toString(36).slice(2);o(t=>[...t,{id:r,title:e,description:i}]),setTimeout(()=>o(t=>t.filter(t=>t.id!==r)),2600)},dismiss:t=>o(e=>e.filter(e=>e.id!==t))}),[]);return(0,r.jsxs)(c.Provider,{value:l,children:[e,(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-[60] space-y-2",children:(0,r.jsx)(a.M,{initial:!1,children:i.map(t=>(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.98},transition:{type:"spring",stiffness:400,damping:30},className:"card p-4 min-w-[260px] bg-white/95 dark:bg-slate-900/95 backdrop-blur",children:[(0,r.jsx)("div",{className:"font-medium",children:t.title}),t.description&&(0,r.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:t.description})]},t.id))})})]})}let l=()=>{let t=(0,n.useContext)(c);if(!t)throw Error("useToast must be used within a ToastProvider");return t}},8612:function(t,e,i){"use strict";i.d(e,{CartProvider:function(){return o},j:function(){return l}});var r=i(7437),n=i(2265);let a=(0,n.createContext)(null),s={items:[]};function c(t,e){switch(e.type){case"LOAD":return{...t,items:e.payload};case"ADD":{let i=t.items.find(t=>t.id===e.payload.id);if(i)return{...t,items:t.items.map(t=>t.id===i.id?{...t,qty:t.qty+1}:t)};return{...t,items:[...t.items,{...e.payload,qty:1}]}}case"REMOVE":return{...t,items:t.items.filter(t=>t.id!==e.payload)};case"UPDATE_QTY":return{...t,items:t.items.map(t=>t.id===e.payload.id?{...t,qty:e.payload.qty}:t)};case"CLEAR":return{...t,items:[]};default:return t}}function o(t){let{children:e}=t,[i,o]=(0,n.useReducer)(c,s);(0,n.useEffect)(()=>{try{let t=localStorage.getItem("cart:v1");t&&o({type:"LOAD",payload:JSON.parse(t)})}catch(t){}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("cart:v1",JSON.stringify(i.items))}catch(t){}},[i.items]);let l=(0,n.useMemo)(()=>{let t=i.items.reduce((t,e)=>t+e.qty,0),e=i.items.reduce((t,e)=>t+e.qty*e.price,0);return{items:i.items,count:t,total:e,addToCart:t=>o({type:"ADD",payload:{id:t.id,title:t.title,price:t.price,image:t.image}}),removeFromCart:t=>o({type:"REMOVE",payload:t}),updateQty:(t,e)=>o({type:"UPDATE_QTY",payload:{id:t,qty:e}}),clearCart:()=>o({type:"CLEAR"})}},[i.items]);return(0,r.jsx)(a.Provider,{value:l,children:e})}let l=()=>{let t=(0,n.useContext)(a);if(!t)throw Error("useCart must be used within a CartProvider");return t}},74:function(t,e,i){"use strict";function r(t,e){return'  <svg width="'.concat(t,'" height="').concat(e,'" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">\n    <defs>\n      <linearGradient id="g">\n        <stop stop-color="#e2e8f0" offset="20%" />\n        <stop stop-color="#f1f5f9" offset="50%" />\n        <stop stop-color="#e2e8f0" offset="70%" />\n      </linearGradient>\n    </defs>\n    <rect width="').concat(t,'" height="').concat(e,'" fill="#e2e8f0" />\n    <rect id="r" width="').concat(t,'" height="').concat(e,'" fill="url(#g)" />\n    <animate xlink:href="#r" attributeName="x" from="-').concat(t,'" to="').concat(t,'" dur="1s" repeatCount="indefinite"  />\n  </svg>')}function n(t){return window.btoa(t)}i.d(e,{f:function(){return r},s:function(){return n}})},6329:function(t,e,i){"use strict";function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";try{return new Intl.NumberFormat(i,{style:"currency",currency:e}).format(t)}catch(e){return"$".concat(t.toFixed(2))}}i.d(e,{x:function(){return r}})},291:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RouterContext",{enumerable:!0,get:function(){return r}});let r=i(9920)._(i(2265)).default.createContext(null)}},function(t){t.O(0,[88,648,971,23,744],function(){return t(t.s=1474)}),_N_E=t.O()}]);